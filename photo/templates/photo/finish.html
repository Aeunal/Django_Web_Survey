{% load static %}
<html>
  <head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <title>label me</title>
    <link rel="stylesheet" href="{% static 'css/update.css' %}">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
  </head>
  <style>

  *{
    box-sizing:border-box;
    padding:0;
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
  }
  

  .questions {
      background-repeat: no-repeat; 
      background-size: auto; 
      border: 3px solid #010801; 
      border-radius: 3px; 
      box-shadow: 0 0 2px 1px #9a9182;
      background-color: #0071b9;
      background-repeat: repeat; 
      background-attachment: scroll;
      background-clip: border-box;
      background-size: cover;
      object-fit:contain;
      max-width: 85%;
      margin-left: 7.5%;
      margin-top: 3%;
      margin-bottom: 5%;
      padding-bottom: 2vmin;
      text-align:center;
      color: whitesmoke;
      padding: 25px;
    }
    .questions p {
      font-size: 2vmax;
      margin-top: 1%;
    }

    .container-fluid {
      width:100%;
      border:2px solid black;
      display:grid;
      height:100%;
    }
    .left {
      display:flex;
      flex-direction:column;
      background-color: #cde3f1;
      background-clip: border-box;
      background-size: 100% 100%;
      text-align: center; 
      justify-content:flex-start;
      padding-top: 3vh;
    }

  </style>

  <body >

    <div class="container-fluid" >
        <div class="left" >
          
          <div style="overflow-x:auto;margin-bottom:2%;" class="questions">
              <h1>Tebrikler Anketin Sonuna Geldiniz. Yardımlarınız İçin Teşekkür Ederiz.<br>
                  (Sayfayı Kapatabilirsiniz.)
              </h1>
              <br>
              <h2>adesso Turkey</h2>
          </div>

          <h1> Ödül için aşağıda bulunan anket kodunu en alttaki form içine yapıştırarak gönderiniz.</h1><br>
          <div style="overflow-x:auto;margin-top:1%;margin-bottom:1%;" class="questions">
            <h2>
            {{cyrb53("adesso_"+survey.id)}} 
            </h2>

            <input hidden id="summary_text" type="text" value="{{cyrb53("adesso_"+survey.id)}}" >
            <button style="overflow-x:auto;margin-top:1%;margin-bottom:1%;padding:5px" onclick="
              var copyText = document.getElementById('summary_text');
              copyText.hidden=false;
              copyText.select();copyText.setSelectionRange(0, 99999);
              document.execCommand('copy');
              copyText.hidden=true;">
                Kopyala
              </button>  
          </div>    
            
          <div style="overflow-x:auto; margin-top:1px" class="questions">
              <iframe width="640px" height= "480px" src= "https://forms.office.com/Pages/ResponsePage.aspx?id=ZVc1PdlnzUecer8xF59W63uOUYArvrhKrbdMpgsBpIdUMU9MRzc0SjY0WVlKWFI2N1RDUllQTDExVy4u&embed=true" frameborder= "0" marginwidth= "0" marginheight= "0" style= "border: none; max-width:100%; max-height:100vh" allowfullscreen webkitallowfullscreen mozallowfullscreen msallowfullscreen> </iframe>
          </div>

        </div>
        
    </div>

    <script src="{% static 'js/bootstrap.min.js' %}">
      
      const cyrb53 = function(str, seed = 0) {
          let h1 = 0xdeadbeef ^ seed, h2 = 0x41c6ce57 ^ seed;
          for (let i = 0, ch; i < str.length; i++) {
              ch = str.charCodeAt(i);
              h1 = Math.imul(h1 ^ ch, 2654435761);
              h2 = Math.imul(h2 ^ ch, 1597334677);
          }
          h1 = Math.imul(h1 ^ (h1>>>16), 2246822507) ^ Math.imul(h2 ^ (h2>>>13), 3266489909);
          h2 = Math.imul(h2 ^ (h2>>>16), 2246822507) ^ Math.imul(h1 ^ (h1>>>13), 3266489909);
          return 4294967296 * (2097151 & h2) + (h1>>>0);
      };

      function myFunction() {
        /* Get the text field */
        var copyText = document.getElementById("summary_text");
        /* Select the text field */
        copyText.hidden=false;
        copyText.select();
        copyText.setSelectionRange(0, 99999); /* For mobile devices */
        /* Copy the text inside the text field */
        document.execCommand("copy");
        /* Alert the copied text */
        alert("Copied the text: " + copyText.value);
      } 
    </script>
  
  </body>
</html>
